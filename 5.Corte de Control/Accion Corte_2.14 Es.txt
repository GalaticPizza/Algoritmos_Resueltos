Accion Corte_2.14 Es

	AMBIENTE

	CENSO = REGISTRO
		CLAVE: REGISTRO
			RADIO: N(5);
			MANZANA: N(3);
			N_VIVIENDA: N(4);
		FR;
		COND_VIV: ("MB","B","M");
		CANT_HABIT: N;
	FR;

	ARCH_CENSO: Archivo de CENSO ordenado por CLAVE;
	REG_CENSO: CENSO;

	RES_RADIO: N(5);
	RES_MANZANA: N(3);

	TOTRAD, TOTMAN, TOGEN: N;


	SUBACCION CORTE_RADIO ES

		CORTE_MANZANA;
		ESCRIBIR("en el radio:", RES_RADIO);
		ESCRIBIR("El total de persona en condicion muy buena es:", TOTRAD),
		TOTGEN:= T0TGEN + TOTRAD;
		RES_RADIO:= REG_CENSO.CLAVE.RADIO;
		TOTRAD:=0;
	FSUB;

	SUBACCION CORTE_MANZANA ES

		ESCRIBIR("En la manzana:", RES_MANZANA);
		ESCRIBIR("El total de personas de condicion muy buena es:",TOTMAN);
		TOTRAD:= TOTRAD + TOTMAN;
		RES_MANZANA:= REG_CENSO.CLAVE.MANZANA;
		TOTMAN:=0;
	FSUB;

	PROCESO

	ABRIR E/(ARCH_CENSO); LEER(ARCH_CENSO, REG_CENSO);
	TOTRAD:=0; TOTMAN:=0;
	RES_RADIO:= REG_CENSO.CLAVE.RADIO;
	RES_MANZANA:= REG_CENSO.CLAVE.MANZANA;
	MIENTRAS NFDA(ARCH_CENSO) HACER
		SI RES_RADIO <> REG_CENSO.CLAVE.RADIO ENTONCES
			CORTE_RADIO;
		SINO
			SI RES_MANZANA <> REG_CENSO.CLAVE.MANZANA ENTONCES
				CORTE_MANZANA;
			FS,
		FS;
		SI REG_CENSO.COND_VIV = "MB" ENTONCES
			TOTMAN:= TOTMAN + 1;
		FS;
		LEER(ARCH_CENSO, REG_CENSO);
	FM;
	CORTE_RADIO;
	ESCRIBIR("El total general de personas en condicion muy buena en la ciudad de resistencia es:", TOTGEN);
	CERRAR(ARCH_CENSO);

Fin_Accion.